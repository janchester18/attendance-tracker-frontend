<!-- Modal Container -->
<div class="custom-modal">
  <div class="modal-content">
    <h2>Edit Overtime Request</h2>
    <form [formGroup]="overtimeForm">
      <div class="form-group" [ngClass]="{'error': isInvalid('date')}">
        <label>Date</label>
        <input type="date" formControlName="date" [min]="today">
        <!-- Show only if the user has interacted with the field and it's empty -->
        <small *ngIf="overtimeForm.controls['date'].hasError('required') && overtimeForm.controls['date'].touched">
          Date is required
        </small>

        <!-- Show only if a past date is entered and the field is touched -->
        <small *ngIf="overtimeForm.controls['date'].hasError('pastDate') && overtimeForm.controls['date'].touched">
          Date cannot be in the past
        </small>
      </div>

      <div class="form-group" [ngClass]="{'error': isInvalid('startTime')}">
        <label>Start Time</label>
        <input type="time" formControlName="startTime">
        <small *ngIf="isInvalid('startTime')">Start Time is required</small>
      </div>

      <div class="form-group" [ngClass]="{'error': isInvalid('endTime')}">
        <label>End Time</label>
        <input type="time" formControlName="endTime">
        <small *ngIf="isInvalid('endTime')">End Time is required</small>
      </div>

      <div class="form-group" [ngClass]="{'error': isInvalid('reason')}">
        <label>Reason</label>
        <textarea formControlName="reason"></textarea>
        <small *ngIf="isInvalid('reason')">Reason must be at least 5 characters</small>
      </div>

      <div class="form-group" [ngClass]="{'error': isInvalid('expectedOutput')}">
        <label>Expected Output</label>
        <textarea formControlName="expectedOutput"></textarea>
        <small *ngIf="isInvalid('expectedOutput')">Expected Output must be at least 5 characters</small>
      </div>
    </form>
    <p *ngIf="validationMessage" class="error-message">
      {{ validationMessage }}
    </p>

    <div class="modal-actions">
      <button class="btn close" (click)="closeModal()">Close</button>
      <button class="btn cancel" (click)="cacelOvertimeRequest()">Cancel Request</button>
      <button class="btn submit" (click)="submit()">Save Changes</button>
    </div>
  </div>
</div>

<!-- Overlay Background -->
<div class="modal-overlay" (click)="closeModal()"></div>
